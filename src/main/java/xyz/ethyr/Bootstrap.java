package xyz.ethyr;

import java.net.URISyntaxException;
import java.nio.file.Path;
import java.nio.file.Paths;
import xyz.ethyr.antimalware.AntiMalware;

public class Bootstrap {

  public static void main(String... args) throws URISyntaxException {
    if (args.length == 0) {
      System.out.println(
          "You can scan given directory using (otherwise it will scan jars in current directory, also you can launch is like plugin): java -jar EthyrAntiMalware.jar path");
    }

    Path path = args.length > 0 ?
        Paths.get(args[0]) :
        Paths.get(Bootstrap.class.getProtectionDomain().getCodeSource().getLocation().toURI()).getParent();

    if (path == null) {
      throw new NullPointerException("path");
    }

    AntiMalware.getInstance().start(path);
  }
}
